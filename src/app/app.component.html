<div class="container">
    <mat-toolbar [@titleState]='this.titleState' color='primary' (click)="toggleTitleState()">
        <span>{{title}}</span>
    </mat-toolbar>


    <mat-card class="marsonry">
        <div class="col">
            <div class="item" *ngFor="let item of columns[0]; index as i">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </div>
        <ng-template [ngIf]="this.requireColumn > 1">
        <div class="col" >
            <div class="item" *ngFor="let item of columns[1]; index as i">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </div>
        </ng-template>
        <ng-template [ngIf]="this.requireColumn > 2">
        <div class="col" >
            <div class="item" *ngFor="let item of columns[2]; index as i">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </div>
        </ng-template>
        <ng-template [ngIf]="this.requireColumn > 3">
        <div class="col" >
            <div class="item" *ngFor="let item of columns[3]; index as i">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </div>
        </ng-template>
        <ng-template [ngIf]="this.requireColumn > 4">
        <div class="col" >
            <div class="item" *ngFor="let item of columns[4]; index as i">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </div>
        </ng-template>

    </mat-card>


    <mat-card class="waterfall" style="display:none;">
        <ng-container *ngFor="let item of masonries; index as i">
            <div class="item">
                <legend>
                    <h4>{{item.title}}-{{i+1}}</h4>
                </legend>
                <div class="tags_area">
                    <a *ngFor="let tag of item.tags" href="#"><span>#{{tag.name}}</span></a>
                </div>
                <div class="thumbnail">
                    <ng-container *ngFor="let img of item.images">
                        <img src="{{img.path}}" alt="{{img.caption}}">
                    </ng-container>
                </div>
                <div>
                    <span>{{item.abstract}}</span>
                </div>
            </div>
        </ng-container>
    </mat-card>
</div>